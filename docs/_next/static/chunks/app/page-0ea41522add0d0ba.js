(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,a,_)=>{"use strict";_.r(a),_.d(a,{default:()=>O});var t=_(5155),o=_(2115),E=_(5031),s=_(2362);let r=[{secondaryAxis:E.NK.data2,secondaryType:E.V7.Line,colors:{mainColor:(0,s.yWT)("green"),secondaryColor:(0,s.yWT)("yellow")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.CORE_TEMP,data2:e.CORE_STATE_CRITICALITY}),label:"Core Temperature and Criticality"},{secondaryType:E.V7.None,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("yellow")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.CORE_IODINE_CUMULATIVE}),label:"Core Iodine concentration"},{secondaryType:E.V7.None,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("yellow")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.CORE_XENON_CUMULATIVE}),label:"Core Xenon concentration"},{secondaryType:E.V7.StackedBar,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("blue"),secondaryColor:(0,s.yWT)("white")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.COOLANT_SEC_0_LIQUID_VOLUME/1e3,data2:(e.COOLANT_SEC_0_VOLUME-e.COOLANT_SEC_0_LIQUID_VOLUME)/1e3}),label:"Steam Generator 1 contents"},{secondaryType:E.V7.StackedBar,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("blue"),secondaryColor:(0,s.yWT)("white")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.COOLANT_SEC_1_LIQUID_VOLUME/1e3,data2:(e.COOLANT_SEC_1_VOLUME-e.COOLANT_SEC_1_LIQUID_VOLUME)/1e3}),label:"Steam Generator 2 contents"},{secondaryType:E.V7.StackedBar,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("blue"),secondaryColor:(0,s.yWT)("white")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.COOLANT_SEC_2_LIQUID_VOLUME/1e3,data2:(e.COOLANT_SEC_2_VOLUME-e.COOLANT_SEC_2_LIQUID_VOLUME)/1e3}),label:"Steam Generator 3 contents"},{secondaryType:E.V7.StackedBar,secondaryAxis:E.NK.None,colors:{mainColor:(0,s.yWT)("blue"),secondaryColor:(0,s.yWT)("white"),tertiaryColor:(0,s.yWT)("yellow")},historyMapper:e=>({secondsSinceStart:e.timestamp,data:e.CONDENSER_VOLUME/1e3,data2:e.CONDENSER_VAPOR_VOLUME/1e3,data3:e.VACUUM_RETENTION_TANK_VOLUME/1e3}),label:"Condenser contents (+ retention tank)"}],O=()=>{let[e,a]=(0,o.useState)([]),[_,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=0,_=async()=>{try{let _=await fetch("http://localhost:8785/?variable=WEBSERVER_BATCH_GET&value=*condenser_*,*coolant_sec*,VACUUM*,*core*,*time*,POWER_*,GENERATOR_*_KW",{mode:"no-cors",method:"get"}),t=await _.json();s(!0),t.values.TIME_STAMP!=e&&(a(e=>[...e,{timestamp:t.values.TIME_STAMP,CONDENSER_VOLUME:t.values.CONDENSER_VOLUME,CONDENSER_VAPOR_VOLUME:t.values.CONDENSER_VAPOR_VOLUME,COOLANT_SEC_0_LIQUID_VOLUME:t.values.COOLANT_SEC_0_LIQUID_VOLUME,COOLANT_SEC_0_VOLUME:t.values.COOLANT_SEC_0_VOLUME,COOLANT_SEC_1_LIQUID_VOLUME:t.values.COOLANT_SEC_1_LIQUID_VOLUME,COOLANT_SEC_1_VOLUME:t.values.COOLANT_SEC_1_VOLUME,COOLANT_SEC_2_LIQUID_VOLUME:t.values.COOLANT_SEC_2_LIQUID_VOLUME,COOLANT_SEC_2_VOLUME:t.values.COOLANT_SEC_2_VOLUME,VACUUM_RETENTION_TANK_VOLUME:t.values.VACUUM_RETENTION_TANK_VOLUME,CORE_TEMP:t.values.CORE_TEMP,CORE_STATE_CRITICALITY:t.values.CORE_STATE_CRITICALITY,CORE_XENON_CUMULATIVE:t.values.CORE_XENON_CUMULATIVE,CORE_IODINE_CUMULATIVE:t.values.CORE_IODINE_CUMULATIVE,GENERATOR_0_KW:t.values.GENERATOR_0_KW,GENERATOR_1_KW:t.values.GENERATOR_1_KW,GENERATOR_2_KW:t.values.GENERATOR_2_KW,POWER_DEMAND_MW:t.values.POWER_DEMAND_MW}].slice(-600)),e=t.values.TIME_STAMP)}catch(e){s(!1)}};_();let t=setInterval(_,1e3);return()=>clearInterval(t)},[]),_)?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-10 bg-black h-dvh",children:e&&e.length&&r.map((a,_)=>(0,t.jsx)(E.O9,{history:e.map(a.historyMapper),secondaryGraphType:a.secondaryType,secondaryAxisSource:a.secondaryAxis,color:a.colors,label:a.label},_))}):(0,t.jsx)("div",{className:"text-white text-center p-10 bg-black text-3xl h-dvh",children:"Waiting for data...  Please start the webserver in Nucleares"})}},8396:(e,a,_)=>{Promise.resolve().then(_.bind(_,3792))}},e=>{var a=a=>e(e.s=a);e.O(0,[362,31,441,684,358],()=>a(8396)),_N_E=e.O()}]);